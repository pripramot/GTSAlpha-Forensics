# วิธีตั้งค่า Gmail ส่งอีเมลให้ Supabase

มี 2 ทางเลือก — เลือกอย่างใดอย่างหนึ่งแล้วตั้งค่าตามขั้นตอนด้านล่าง

---

## วิธีที่ 1: คัดลอกแล้วส่งเอง (ไม่ต้องตั้งค่า)

1. เปิดไฟล์ **`เปิดแล้วคัดลอกส่ง Gmail.html`** ในเบราว์เซอร์  
2. กด **คัดลอก Subject** แล้วไปวางในช่อง "เรื่อง" ใน Gmail  
3. กด **คัดลอก Body** แล้วไปวางในเนื้อความ  
4. เปิด Gmail → สร้างอีเมลใหม่ → ใส่ผู้รับ (Supabase Support/Billing) → ส่ง  

ไม่ต้องตั้งค่า Gmail เพิ่ม

---

## วิธีที่ 2: ใช้สคริปต์ส่งอีเมล (ต้องตั้งค่า Gmail App Password)

ใช้โฟลเดอร์ **`send-email/`** — สคริปต์ Node.js ส่งอีเมลให้อัตโนมัติ

### ขั้นตอนที่ 1: สร้างรหัส App Password ใน Gmail

1. เปิด [Google Account](https://myaccount.google.com/) (บัญชีที่ใช้ส่งอีเมล)  
2. ไปที่ **ความปลอดภัย** → **การเข้าสู่ระบบของ Google**  
3. เปิด **การยืนยันตัวตนแบบ 2 ขั้นตอน** (ต้องเปิดก่อนถึงจะสร้าง App Password ได้)  
4. กลับไป **ความปลอดภัย** → หา **รหัสผ่านแอป** (App passwords)  
5. สร้างรหัสผ่านแอป: เลือกแอป "จดหมาย" หรือ "อื่นๆ" ตั้งชื่อเช่น "GTSAlpha Supabase"  
6. กดสร้าง → Google จะแสดง **รหัส 16 ตัว** (เช่น `abcd efgh ijkl mnop`) — **เก็บไว้** ใส่ใน `.env` ในขั้นตอนถัดไป  

### ขั้นตอนที่ 2: ตั้งค่าในโปรเจกต์

1. ไปที่โฟลเดอร์ `GTSAlpha-Forensics/supabase/send-email/`  
2. คัดลอกไฟล์ `.env.example` เป็น `.env`  
3. แก้ไข `.env`:  
   - `GMAIL_USER` = อีเมล Gmail ของคุณ (เช่น gittisakwannakeeree@gmail.com)  
   - `GMAIL_APP_PASSWORD` = รหัสผ่านแอป 16 ตัว (ต่อกันไม่มีช่องว่าง เช่น abcdefghijklmnop)  
   - `SEND_TO` = อีเมลผู้รับ (เช่น support@supabase.io หรืออีเมลของคุณเพื่อทดสอบ)  

### ขั้นตอนที่ 3: ติดตั้งและรัน

```bash
cd GTSAlpha-Forensics/supabase/send-email
npm install
node send_supabase_email.js
```

ถ้าตั้งค่าถูกต้อง สคริปต์จะส่งอีเมลเรื่อง "Account setup request..." ไปยัง `SEND_TO`

---

## สรุป

| วิธี | ต้องตั้งค่า | ใช้เมื่อไหร่ |
|------|-------------|----------------|
| วิธีที่ 1 (HTML คัดลอก) | ไม่ต้อง | ส่งแค่ครั้งเดียว สะดวก |
| วิธีที่ 2 (สคริปต์) | ต้อง (App Password + .env) | อยากส่งอัตโนมัติหรือส่งซ้ำหลายครั้ง |

ถ้าส่งแค่ครั้งเดียว แนะนำวิธีที่ 1 ถ้าอยากใช้สคริปต์ส่งหรือส่งซ้ำ ใช้วิธีที่ 2
